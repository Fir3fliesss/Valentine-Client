<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valentine's Maze</title>
    <!-- Link to external CSS -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Start Screen -->
    <div id="start-screen">
        <h1>Valentine's Maze</h1>
        <button onclick="startGame()">Start Game</button>
    </div>

    <!-- Game Over Screen -->
    <div id="game-over-screen">
        <h1>Game Over!</h1>
        <button onclick="restartGame()">Restart</button>
    </div>

    <!-- Game Content -->
    <h1 id="heading">Will You Be My Valentine?</h1>
    <canvas id="canvas"></canvas>

    <!-- Controls for mobile devices -->
    <div id="controls">
        <div class="control-button up" onclick="movePlayer(0, -1)"></div>
        <div class="control-button left" onclick="movePlayer(-1, 0)"></div>
        <div class="control-button right" onclick="movePlayer(1, 0)"></div>
        <div class="control-button down" onclick="movePlayer(0, 1)"></div>
    </div>

    <!-- Audio for background music -->
    <!-- <audio id="background-music" src="./assets/Nidji - Rahasia Hati  Speed Up  Reverb.mp3" loop></audio> -->

    <!-- Link to external JavaScript at the end of the body for best practices -->
    <script src="script.js"></script>
    </body>
    <script>
        // Get query parameters and pass them to valentine-success.html when winning
        function showWinContent() {
            const currentUrl = new URL(window.location.href);
            const params = currentUrl.searchParams;

            const newUrl = new URL('Valentine-Client/valentine-success.html', window.location.origin);
            // Copy all existing query parameters
            params.forEach((value, key) => {
                newUrl.searchParams.set(key, value);
            });

            window.location.href = newUrl.toString();
        }
    </script>
</body>
</html>
